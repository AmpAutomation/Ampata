<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://jmix.io/schema/ui/window"
        xmlns:c="http://jmix.io/schema/ui/jpql-condition"
        caption="msg://usrNodeFinTxactItm0Lookup.caption"
        focusComponent="tableMain">
    <data readOnly="true">
        <collection id="colCntnrMain"
                    class="ca.ampautomation.ampata.entity.usr.node.fin.UsrNodeFinTxactItm">
            <fetchPlan extends="fetchPlan_UsrNodeFinTxactItm_Base"/>
            <loader id="colLoadrMain">
                <query>
                    <![CDATA[select e from enty_UsrNodeFinTxactItm e order by e.sortKey, e.id2]]>
                </query>
            </loader>
        </collection>
    </data>
    <facets>
        <dataLoadCoordinator auto="true"/>
        <screenSettings id="settingsFacet" auto="true"/>
        <presentations auto="true"/>
    </facets>
    <actions>
        <action id="lookupSelectAction"
                icon="LOOKUP_OK"
                caption="msg:///actions.Select"
                primary="true"
                shortcut="${COMMIT_SHORTCUT}"
        />
        <action id="lookupCancelAction"
                icon="LOOKUP_CANCEL"
                caption="msg:///actions.Cancel"
        />
    </actions>
    <dialogMode width="1024" height="768"/>
    <layout expand="tableMain" spacing="true">
        <table id="tableMain"
               width="100%"
               dataContainer="colCntnrMain">
            <actions>
                <action id="refresh" type="refresh"/>
            </actions>
            <columns>
                <column id="tenant" collapsed="true"/>
                <column id="id2"/>
                <column id="sortIdx"/>
                <column id="sortKey"/>
                <column id="name1"/>
                <column id="type1_Id"/>
                <column id="inst1"/>
                <column id="desc1"/>

                <column id="ts1.elTs" caption="ts1.elTs"/>
                <column id="int1"/>
                <column id="int2"/>

                <column id="edgeIns_Id2"/>
                <column id="edgeOts_Id2"/>

                <column id="note"/>
            </columns>
            <buttonsPanel id="buttonsPanel"
                          alwaysVisible="true">
                <tabSheet width="100%">
                    <tab id="tabCmd1" caption="Main" spacing="true" margin="true, false, false, false">
                        <hbox spacing="true">
                            <button id="refreshBtn" action="tableMain.refresh"/>
                        </hbox>
                    </tab>
                    <tab id="tabCmd2" caption="View" spacing="true" margin="true, false, false, false">
                    </tab>

                    <tab id="tabCmd3" caption="Filter" spacing="true" margin="true, false, false, false">
                        <filter id="filter" dataLoader="colLoadrMain" collapsable="true" collapsed="false" columnsCount="4">
                                dataLoader="colLoadrMain">
                            <properties include=".*"/>
                            <configurations>
                                <configuration id="filterConfig1" default="true">
                                    <groupFilter operation="OR">
                                        <groupFilter operation="AND" caption="GroupA">
                                            <propertyFilter id="filterConfig1A_Id2" caption="id2" operation="CONTAINS" property="id2" operationEditable="true"/>
                                            <propertyFilter id="filterConfig1A_Id2Dup" caption="id2Dup" operation="EQUAL" property="id2Dup" operationEditable="true"/>
                                            <propertyFilter id="filterConfig1A_Type1_Id" caption="type1" operation="EQUAL" property="type1_Id" operationEditable="true">
                                                <entityComboBox metaClass="enty_UsrNodeBaseType"/>
                                            </propertyFilter>

                                            <propertyFilter id="filterConfig1A_Name1" caption="name1" operation="CONTAINS" property="name1" operationEditable="true"/>
                                            <propertyFilter id="filterConfig1A_Desc1" caption="desc1" operation="CONTAINS" property="desc1" operationEditable="true"/>
                                            <propertyFilter id="filterConfig1A_SortIdx" caption="sortIdx" operation="EQUAL" property="sortIdx" operationEditable="true"/>

                                            <propertyFilter id="filterConfig1A_Ts1_ElTs_GE" caption="ts1.elTs" operation="GREATER_OR_EQUAL" property="ts1.elTs" operationEditable="true"/>
                                            <propertyFilter id="filterConfig1A_Ts1_ElTs_LE" caption="ts1.elTs" operation="LESS_OR_EQUAL" property="ts1.elTs" operationEditable="true"/>
                                            <propertyFilter id="filterConfig1A_Int1" caption="int1" operation="EQUAL" property="int1" operationEditable="true"/>
                                            <propertyFilter id="filterConfig1A_Int2" caption="int2" operation="EQUAL" property="int2" operationEditable="true"/>
                                        </groupFilter>
                                    </groupFilter>
                                </configuration>
                            </configurations>
                        </filter>
                    </tab>
                </tabSheet>
            </buttonsPanel>
        </table>
        <pagination align="MIDDLE_RIGHT" itemsPerPageDefaultValue="50" itemsPerPageVisible="true">
            <containerProvider dataContainer="colCntnrMain"/>
        </pagination>
        <hbox id="lookupActions" spacing="true" visible="false">
            <button action="lookupSelectAction"/>
            <button action="lookupCancelAction"/>
        </hbox>
    </layout>
</window>
